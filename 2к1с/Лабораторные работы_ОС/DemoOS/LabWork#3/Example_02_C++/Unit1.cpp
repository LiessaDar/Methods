//---------------------------------------------------------------------------
//Демонстрационный проэкт к лабораторной работе №3
//ПЕРВАЯ ПРОГРАММА
//---------------------------------------------------------------------------
//ЗАДАНИЕ: создать программу, которая начинает запись в файл, вторая
//программа ожидает завершения процесса записи, после чего считывает
//содержимое файла
//---------------------------------------------------------------------------
//Подключаем необходимые библиотеки
#include "windows.h"
#include "fstream.h"
#include "iostream.h"
//------Главная функция программы--------------------------------------------
int main(int argc, char* argv[]) {
  HANDLE mtx;
  mtx = CreateMutex(NULL, FALSE, "FirstStep");
  DWORD result;
  result = WaitForSingleObject(mtx,0);
  if (result == WAIT_OBJECT_0){
    cout << "programm running..." << endl;
    Sleep(10000);
    ReleaseMutex(mtx);
  }else	cout << "fail programm running" << endl;
  CloseHandle(mtx);
  return 0;
}
//-------Конец главной функции программы-------------------------------------

